<mat-tab-group>
    <mat-tab label="Follow Up">
      <div class="site-body col-md-12 ">
        <h3>Newly Scheduled Appointments</h3>
        <p *ngIf="conLen === 0">You have no appointment schedule to confirm</p>
        <mat-card *ngIf="conLen > 0">
            <mat-form-field>
              <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
            </mat-form-field>
            <br>
            <mat-divider></mat-divider>
            <br>

            <div *ngIf="isLoading">
              <mat-spinner></mat-spinner>
            </div>

            <table mat-table [dataSource]="dataSource" matSort *ngIf="!isLoading">
              <ng-container matColumnDef="customer">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                <td mat-cell *matCellDef="let appointment">
                  <a routerLink="/user/customer/{{appointment.customer.id}}">{{appointment.customer.name}} </a>
                </td>
              </ng-container>
              <ng-container matColumnDef="site">
                <th mat-header-cell *matHeaderCellDef mat-sort-header > Site </th>
                <td mat-cell *matCellDef="let appointment"> {{appointment.site.name}} </td>
              </ng-container>

              <ng-container matColumnDef="property">
                <th mat-header-cell *matHeaderCellDef mat-sort-header > Property </th>
                <td mat-cell *matCellDef="let appointment" > {{appointment.property}} </td>
              </ng-container>

              <ng-container matColumnDef="date">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header > Scheduled Date </th>
                  <td mat-cell *matCellDef="let appointment"> {{appointment.viewDate | date: 'medium'}} </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > Action </th>
                    <td mat-cell *matCellDef="let appointment"> <button (click)=" openReportDialog(appointment._id)" class="btn btn-primary"> Generate Report</button> </td>
                  </ng-container>


              <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </table>
            <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons>
            </mat-paginator>
          </mat-card>
      </div>
    </mat-tab>
    <mat-tab label="Presented Appointments">
      <div class="site-body col-md-12 ">
        <h3>Presented Appointments</h3>
        <app-presented-appointment></app-presented-appointment>
      </div>
    </mat-tab>
  </mat-tab-group>
